> Материал на этой странице относится к Elm 0.18

# Поток выполнения приложения

Эта диаграмма показывает как различные части приложения взаимодействуют с Html.program.

![Flow](04-flow.png)

1. `Html.program` вызывает функцию представления с начальной моделью и отрисовывает её результат.
1. Когда пользователь нажимает на кнопку "Развернуть", представление отправляет сообщение `Expand`.
1. `Html.program` получает сообщение `Expand`, которое приводит к вызову функции `update` с`Expand` и текущим состоянием приложения.
1. Функция обновения обрабатывает сообщение и возвращает новое состояние и команду для запуска (или `Cmd.none`). 
1. `Html.program` получает обновлённое состояние, сохраняет его и вызывает функцию представления с обновлённым состоянием.

Обычно приложения Elm хранят состояние исключительно в `Html.program`, таким образом общее состояние приложение хранится в одном месте.
